{"version":3,"sources":["webpack:///./src/components/schema/schema.tsx","webpack:///./src/components/measure-detail/measure-detail.tsx","webpack:///./src/templates/measures/page.tsx","webpack:///./src/components/time/time.tsx","webpack:///./src/components/subtitle/subtitle.module.scss","webpack:///./src/components/topic-detail/topic-detail.module.scss","webpack:///./src/components/headline/headline.tsx","webpack:///./src/components/breadcrumb/breadcrumb.tsx","webpack:///./src/components/headline/headline.module.scss","webpack:///./src/components/subtitle/subtitle.tsx","webpack:///./src/components/topic-detail/topic-detail.tsx","webpack:///./node_modules/@material-ui/icons/esm/Room.js","webpack:///./node_modules/@material-ui/icons/esm/Event.js","webpack:///./src/components/marker/marker.tsx","webpack:///./src/components/breadcrumb/breadcrumb.module.scss"],"names":["SchemaComp","canonicalUrl","datePublished","defaultTitle","description","isBlogPost","organization","title","body","url","baseSchema","name","alternateName","schema","itemListElement","position","item","articleBody","headline","publisher","mainEntityOfPage","property","content","type","JSON","measure","hasRegion","Boolean","hasTimeConstraint","breadcrumbItems","I18n","alias","subtitle","processedContent","processed","className","regions","region","validFrom","validTo","valid_to","query","data","pagePath","htmlLanguage","langcode","datetime","prefix","suffix","dateTime","Date","toLocaleString","year","month","day","hour","minute","timeZone","module","exports","children","styles","getBreadcrumbClasses","variant","classNames","classes","items","getItemClasses","index","aria-label","key","isNavItem","to","label","topicDetail","dangerouslySetInnerHTML","__html","createSvgIcon","createElement","d","Marker","icon","RegionsMarker","TimeMarker"],"mappings":"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","file":"component---src-templates-measures-page-tsx-ae2353775b1a30e7b615.js","sourcesContent":["import React from 'react';\nimport Helmet from 'react-helmet';\n\ninterface IOrganization {\n  url: string;\n  name: string;\n}\ninterface IProps {\n  canonicalUrl: string;\n  body: string;\n  datePublished: string;\n  defaultTitle: string;\n  description: string;\n  isBlogPost: boolean;\n  organization: IOrganization;\n  title: string;\n  url: string;\n}\nexport const SchemaComp: React.FC<IProps> = ({\n  canonicalUrl,\n  datePublished,\n  defaultTitle,\n  description,\n  isBlogPost,\n  organization,\n  title,\n  body,\n  url,\n}) => {\n  const baseSchema = [\n    {\n      '@context': 'http://schema.org',\n      '@type': 'WebSite',\n      url,\n      name: title,\n      alternateName: defaultTitle,\n    },\n  ];\n\n  const schema = isBlogPost\n    ? [\n        ...baseSchema,\n        {\n          '@context': 'http://schema.org',\n          '@type': 'BreadcrumbList',\n          itemListElement: [\n            {\n              '@type': 'ListItem',\n              position: 1,\n              item: {\n                '@id': url,\n                name: title,\n              },\n            },\n          ],\n        },\n        {\n          '@context': 'http://schema.org',\n          '@type': 'BlogPosting',\n          url,\n          name: title,\n          articleBody: body,\n          alternateName: defaultTitle,\n          headline: title,\n          description,\n          publisher: {\n            '@type': 'Organization',\n            url: organization.url,\n            name: organization.name,\n          },\n          mainEntityOfPage: {\n            '@type': 'WebSite',\n            '@id': canonicalUrl,\n          },\n          datePublished,\n        },\n      ]\n    : baseSchema;\n\n  return (\n    <Helmet>\n      <meta property=\"og:url\" content={url} />\n      <meta property=\"og:type\" content=\"article\" />\n      <meta property=\"og:title\" content={title} />\n      <meta property=\"og:description\" content={description} />\n      <script type=\"application/ld+json\">{JSON.stringify(schema)}</script>\n    </Helmet>\n  );\n};\n\nexport default SchemaComp;\n","import React from 'react';\n\nimport I18n from '@/components/i18n';\n\nimport { IMeasureDetailFragment } from 'graphql-types';\nimport { graphql } from 'gatsby';\nimport TopicDetail from '../topic-detail';\nimport { RegionsMarker, TimeMarker } from '../marker';\n\ninterface IProps {\n  measure: IMeasureDetailFragment;\n}\n\nconst MeasureDetail: React.FC<IProps> = ({ measure }) => {\n  const hasRegion = Boolean(measure.relationships.region.length);\n  const hasTimeConstraint = Boolean(measure.valid_from || measure.valid_to);\n  return (\n    <TopicDetail\n      breadcrumbItems={[\n        { title: I18n('home'), url: '/' },\n        {\n          title: I18n('current_measures'),\n          url: I18n(`slug_measures`),\n        },\n        {\n          title: measure.relationships?.situation_type?.name,\n          url: measure.relationships?.situation_type?.path?.alias,\n        },\n        measure.title,\n      ]}\n      title={measure.title}\n      subtitle={measure.norm}\n      processedContent={measure?.content?.processed}\n    >\n      {(hasRegion || hasTimeConstraint) && (\n        <div className=\"mt-2\">\n          <h3 className=\"mb-1 color-blue-dark\">{I18n('location_validity')}</h3>\n          {hasRegion && (\n            <RegionsMarker regions={measure.relationships.region} />\n          )}\n          {hasTimeConstraint && (\n            <TimeMarker\n              validFrom={measure.valid_from}\n              validTo={measure.valid_to}\n            />\n          )}\n        </div>\n      )}\n    </TopicDetail>\n  );\n};\n\nexport const query = graphql`\n  fragment MeasureDetail on measure {\n    title\n    norm\n    content: description {\n      processed\n    }\n    links: source {\n      uri\n      title\n    }\n    relationships {\n      region {\n        name\n      }\n      situation_type: field_measure_type {\n        name\n        path {\n          alias\n        }\n      }\n      related_situations: situation {\n        title\n      }\n    }\n    path {\n      alias\n    }\n    changed\n    valid_from\n    valid_to\n  }\n`;\n\nexport default MeasureDetail;\n","import React from 'react';\nimport { graphql } from 'gatsby';\nimport { IMeasurePageQueryQuery } from 'graphql-types';\nimport { SchemaComp } from '@/components/schema/schema';\nimport { SEO as Seo } from 'gatsby-plugin-seo';\nimport Layout from '@/layouts/default-layout';\nimport I18n from '@/components/i18n';\nimport MeasureDetail from '@/components/measure-detail';\ninterface IProps {\n  data: IMeasurePageQueryQuery;\n}\n\nconst Page: React.FC<IProps> = ({ data }) => {\n  return (\n    <Layout>\n      <Seo\n        title={data.measure.title}\n        description={\n          data.measure.meta_description ||\n          I18n('current_measures_overview_meta')\n        }\n        pagePath={data.measure.path.alias}\n        htmlLanguage={data.measure.langcode}\n      />\n      <SchemaComp\n        canonicalUrl={'https://covid.gov.cz' + data.measure.path.alias}\n        datePublished={data.measure.valid_from}\n        defaultTitle={data.measure.title}\n        isBlogPost\n        body={\n          data.measure.content\n            ? data.measure.content.processed\n            : data.measure.meta_description\n        }\n        description={data.measure.meta_description}\n        title={data.measure.title}\n        url={'https://covid.gov.cz' + data.measure.path.alias}\n        organization={{\n          url: 'https://gov.cz',\n          name: 'Portál veřejné správy',\n        }}\n      />\n      <MeasureDetail measure={data.measure} />\n    </Layout>\n  );\n};\nexport default Page;\n\nexport const query = graphql`\n  query MeasurePageQuery($slug: String!) {\n    measure(path: { alias: { eq: $slug } }) {\n      title\n      meta_description\n      content: description {\n        processed\n      }\n      path {\n        alias\n      }\n      langcode\n      valid_from\n      ...MeasureDetail\n    }\n  }\n`;\n","import React from 'react';\n\ninterface Props {\n  datetime: string;\n  prefix?: string;\n  suffix?: string;\n}\n\nconst Time: React.FC<Props> = ({ datetime, prefix, suffix = ' ' }) => {\n  return (\n    <time dateTime={datetime}>\n      {prefix}\n      {new Date(datetime).toLocaleString('cs-CZ', {\n        year: 'numeric',\n        month: 'numeric',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit',\n        timeZone: 'Europe/Prague',\n      })}\n      {suffix}\n    </time>\n  );\n};\n\nexport default Time;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"subtitle\":\"subtitle-module--subtitle--3-_JB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topicDetail\":\"topic-detail-module--topicDetail--kRP4b\"};","import React from 'react';\n\nimport styles from './headline.module.scss';\n\nconst Headline: React.FC = ({ children }) => {\n  return <h1 className={styles.headline}>{children}</h1>;\n};\n\nexport default Headline;\n","import classNames from 'classnames';\nimport React from 'react';\nimport Link from '../link';\nimport classes from './breadcrumb.module.scss';\n\ninterface INavItem {\n  title: string;\n  url: string;\n}\n\ninterface IProps {\n  items: (string | INavItem)[];\n  variant?: 'normal' | 'inverse';\n}\n\nconst isNavItem = (item: any): item is INavItem => {\n  return (item as INavItem).title !== undefined;\n};\n\nconst getBreadcrumbClasses = (variant: IProps['variant']): string => {\n  return classNames('breadcrumb', classes.breadcrumbContainer, {\n    'breadcrumb--inverse': variant === 'inverse',\n  });\n};\n\nconst Breadcrumb: React.FC<IProps> = ({ items, variant = 'normal' }) => {\n  const getItemClasses = (index: number): string => {\n    return classNames('breadcrumb__item', classes.breadcrumbItem, {\n      [classes.breadcrumbItemActive]: index === items.length - 1,\n    });\n  };\n\n  return (\n    <nav className=\"breadcrumbs\" aria-label=\"breadcrumb\">\n      <ol className={getBreadcrumbClasses(variant)}>\n        {items.map((item, index) => {\n          return (\n            <li\n              key={`breadcrumb-item-${index}`}\n              className={getItemClasses(index)}\n            >\n              {isNavItem(item) ? (\n                <Link\n                  to={item.url}\n                  className=\"breadcrumb__link\"\n                  label={item.title}\n                />\n              ) : (\n                <span className=\"breadcrumb__link\">{item}</span>\n              )}\n            </li>\n          );\n        })}\n      </ol>\n    </nav>\n  );\n};\n\nexport default Breadcrumb;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headline\":\"headline-module--headline--2EZlD\"};","import React from 'react';\nimport classNames from 'classnames';\n\nimport styles from './subtitle.module.scss';\n\nconst Subtitle: React.FC<{ className?: string }> = ({\n  children,\n  className,\n}) => {\n  return <p className={classNames(styles.subtitle, className)}>{children}</p>;\n};\n\nexport default Subtitle;\n","import React from 'react';\n\nimport Container from '@/components/container';\nimport Breadcrumb from '@/components/breadcrumb';\nimport Headline from '@/components/headline';\nimport Subtitle from '@/components/subtitle';\n\nimport styles from './topic-detail.module.scss';\n\ninterface IProps {\n  breadcrumbItems: React.ComponentProps<typeof Breadcrumb>['items'];\n  title: string;\n  processedContent: string;\n  subtitle?: string;\n}\n\nconst TopicDetail: React.FC<IProps> = ({\n  breadcrumbItems,\n  title,\n  processedContent,\n  children,\n  subtitle,\n}) => {\n  return (\n    <div className={styles.topicDetail}>\n      <Container>\n        <div className=\"pt-1\">\n          <Breadcrumb items={breadcrumbItems} variant=\"inverse\" />\n        </div>\n        <div className=\"mt-3\">\n          <Headline>{title}</Headline>\n        </div>\n        <article className=\"bg-white rounded p-2 pb-3 mb-1\">\n          {subtitle && <Subtitle>{subtitle}</Subtitle>}\n          <div\n            dangerouslySetInnerHTML={{\n              __html: processedContent,\n            }}\n          />\n          {children}\n        </article>\n      </Container>\n    </div>\n  );\n};\n\nexport default TopicDetail;\n","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"\n}), 'Room');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z\"\n}), 'Event');","import React from 'react';\n\nimport { Room, Event } from '@material-ui/icons';\nimport { IRegion } from 'graphql-types';\nimport Time from '../time';\nimport I18n from '../i18n';\n\ninterface IProps {\n  icon: React.ReactNode;\n}\n\nconst Marker: React.FC<IProps> = ({ icon, children }) => {\n  return (\n    <div className=\"d-flex align-items-center mb-1 color-blue\">\n      {icon}\n      &nbsp;\n      <span className=\"text-uppercase font-weight-medium\">{children}</span>\n    </div>\n  );\n};\n\ninterface IRegionsMarkerProps {\n  regions: Pick<IRegion, 'name'>[];\n}\n\nexport const RegionsMarker: React.FC<IRegionsMarkerProps> = ({ regions }) => (\n  <Marker icon={<Room />}>\n    {regions.map((region) => region.name).join(',')}\n  </Marker>\n);\n\ninterface ITimeProps {\n  validFrom: string;\n  validTo: string;\n}\n\nexport const TimeMarker: React.FC<ITimeProps> = ({ validFrom, validTo }) => (\n  <Marker icon={<Event />}>\n    {validFrom && <Time datetime={validFrom} prefix={`${I18n('from')} `} />}\n    {validTo && <Time datetime={validTo} prefix={`${I18n('to')} `} />}\n  </Marker>\n);\n\nexport default Marker;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"breadcrumbContainer\":\"breadcrumb-module--breadcrumbContainer--aIVuB\",\"breadcrumbItem\":\"breadcrumb-module--breadcrumbItem--3jBwP\",\"breadcrumbItemActive\":\"breadcrumb-module--breadcrumbItemActive--6MwJy\"};"],"sourceRoot":""}